$mobileMaxWidth=992;function getParameterByName(b,e){b=b.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var f=RegExp("[\\?&]"+b+"=([^&#]*)").exec(e);return null==f?"":decodeURIComponent(f[1].replace(/\+/g," "))}
(function(b){b.fn.datepicker.dates.de={days:"Sonntag Montag Dienstag Mittwoch Donnerstag Freitag Samstag Sonntag".split(" "),daysShort:"Son Mon Die Mit Don Fre Sam Son".split(" "),daysMin:"So Mo Di Mi Do Fr Sa So".split(" "),months:"Januar Februar M\u00e4rz April Mai Juni Juli August September Oktober November Dezember".split(" "),monthsShort:"Jan Feb M\u00e4r Apr Mai Jun Jul Aug Sep Okt Nov Dez".split(" "),today:"Heute",weekStart:1,format:"dd.mm.yyyy"}})(jQuery);
$(document).ready(function(){$("#SideCalendar, .datepicker").datepicker({format:"dd/mm/yyyy",weekStart:1,todayBtn:!0,language:"de",orientation:"top center",daysOfWeekDisabled:"0,6",calendarWeeks:!0,todayHighlight:!0,selectWeek:!0,autoclose:!0,todayBtn:"linked"},function(){});$("#SideCalendar").datepicker().on("changeDate",function(b){$("#calendar").length?(console.log("Datepicker: "+b.date),$("#calendar").fullCalendar("gotoDate",new Date(b.date))):window.location.href="/captility/calendars/?date="+
b.date})});
$(document).ready(function(){var b=$("<div/>").qtip({id:"calendar",prerender:!0,content:{text:" ",title:{button:!0}},position:{my:"top center",at:" center",target:"mouse",viewport:$("#calendar"),adjust:{mouse:!1,scroll:!1}},show:!1,hide:{event:"unfocus click mouseleave"},style:"qtip-bootstrap"}).qtip("api");$mediaQueryHeader={left:"title",center:"",right:"prev,today,next"};$mediaQueryView="agendaWeek";$hiddenDays=[0,6];if(-1<window.location.href.indexOf("calendar")||-1<window.location.href.indexOf("full_calendar"))$mediaQueryHeader.left="agendaDay,agendaWeek,month",
$mediaQueryHeader.center="title",$mediaQueryHeader.right="prev,today,next",$mediaQueryView="month",$hiddenDays=[0];$(document).width()<$mobileMaxWidth&&($mediaQueryView="agendaDay");$(window).bind("resize",function(){$(document).width()<$mobileMaxWidth?$("#calendar").fullCalendar("changeView","agendaDay"):$("#calendar").fullCalendar("changeView","agendaWeek")});var e={url:"events/feed",type:"GET",cache:!1},f={url:"events/feedMy",type:"GET",cache:!1};$('a[data-toggle="tab"]').on("shown.bs.tab",function(a){$("#calendar").fullCalendar("render");
$("#calendar").fullCalendar("render")});$("#GeneralViewFc").click(function(){$(this).parent().hasClass("active")||$("#calendar").fullCalendar("removeEventSource",f).fullCalendar("removeEventSource",e).fullCalendar("addEventSource",e)});$("#MyWeekViewFc").click(function(){$(this).parent().hasClass("active")||$("#calendar").fullCalendar("removeEventSource",e).fullCalendar("removeEventSource",f).fullCalendar("addEventSource",f)});$("#calendar").fullCalendar({header:$mediaQueryHeader,defaultView:$mediaQueryView,
weekMode:"variable",allDaySlot:!1,weekends:!0,firstDay:1,hiddenDays:$hiddenDays,aspectRatio:1.375,firstHour:8,minTime:6,maxTime:22,axisFormat:"HH:mm",formatDate:"dd.MM.yyyy HH:mm:ss",titleFormat:{month:"MMMM yyyy",week:"dd.[ MMM.][yy]{ '&#8211;' dd. MMMM yyyy}",day:"dddd, dd.MM.yyyy"},columnFormat:{month:"ddd",week:"ddd - d.M.",day:"dddd d.M."},timeFormat:"HH:mm{ \u2013 HH:mm}' Uhr'",monthNames:"Januar Februar M\u00e4rz April Mai Juni Juli August September Oktober November Dezember".split(" "),monthNamesShort:"Jan Feb Mrz Apr Mai Jun Jul Aug Sept Okt Nov Dez".split(" "),
dayNames:"Sonntag Montag Dienstag Mittwoch Donnerstag Freitag Samstag".split(" "),dayNamesShort:"So Mo Di Mi Do Fr Sa".split(" "),allDayText:"Ganzt\u00e4gig",buttonText:{today:"Heute",month:"Monat",week:"Woche",day:"Tag"},eventSources:[e],editable:!0,selectable:!0,viewRender:function(a,c){console.log("FullCalendar: "+a.start);$("#SideCalendar").datepicker("update",new Date(a.start))},eventClick:function(a,c,e){b.set({"content.text":"<p><b>Start:</b> "+a.start+"<br />"+(a.end&&"<p><b>End:</b> "+a.end+
"</p>"||"")+'<a class="btn-m btn-sm btn-default pull-right" name="Bearbeiten" href="captures/edit/'+a.capture_id+'">Bearbeiten</a><a class="btn-m btn-sm btn-default pull-right" name="Anzeigen" href="captures/view/'+a.capture_id+'">Anzeigen</a>',"content.title":a.title,"style.classes":"qtip-bootstrap qtip-"+a.className}).reposition(c).show(c)},eventResizeStart:function(){b.hide()},eventDragStart:function(){b.hide()},viewDisplay:function(){b.hide()},eventDrop:function(a){var c=new Date(a.start),b=c.getFullYear(),
e=c.getDate(),f=c.getMonth()+1,g=c.getHours(),c=c.getMinutes(),d=new Date(a.end),h=d.getFullYear(),k=d.getDate(),l=d.getMonth()+1,m=d.getHours(),d=d.getMinutes();$.post("events/update?id="+a.id+"&start="+b+"-"+f+"-"+e+" "+g+":"+c+":00&end="+h+"-"+l+"-"+k+" "+m+":"+d+":00&allday="+(!0==a.allDay?1:0),function(a){})},eventResize:function(a){var c=new Date(a.start),b=c.getFullYear(),e=c.getDate(),f=c.getMonth()+1,g=c.getHours(),c=c.getMinutes(),d=new Date(a.end),h=d.getFullYear(),k=d.getDate(),l=d.getMonth()+
1,m=d.getHours(),d=d.getMinutes();$.post("events/update?id="+a.id+"&start="+b+"-"+f+"-"+e+" "+g+":"+c+":00&end="+h+"-"+l+"-"+k+" "+m+":"+d+":00",function(a){})}});if($("#calendar").length){var n=getParameterByName("date",window.location.href);n&&($("#calendar").fullCalendar("gotoDate",new Date(n)),console.log("Query: "+getParameterByName("date",window.location.href)))}});
var eventColorValues={colors:["#202020 #3a87ad #f70 #009406 #FFEB00 #FD3E20 #5F43A8 #009B9B #579B00 #FF38D7 #FDFDFD".split(" ")]},eventColorNames="Black Blue Orange Green Yellow Red Purple Indigo Mint Pink White".split(" ");$(document).ready(function(){$(".colorpalette").colorPalette(eventColorValues).on("selectColor",function(b){$(".selected-color").val(b.color)})});
